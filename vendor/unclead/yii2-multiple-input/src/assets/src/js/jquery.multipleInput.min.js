!function(t){t.fn.multipleInput=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.multipleInput"),!1):r.init.apply(this,arguments)};var e={afterInit:"afterInit",afterAddRow:"afterAddRow",beforeDeleteRow:"beforeDeleteRow",afterDeleteRow:"afterDeleteRow"},n={id:null,template:null,jsTemplates:[],limit:1,min:1},l={enableAjaxValidation:!1,validateOnBlur:!1,validateOnChange:!1,validateOnType:!1},r={init:function(i){var r=t.extend(!0,{},n,i||{}),o=t("#"+r.id),f=o.closest("form"),d=this.selector.replace("#","");o.data("multipleInput",{settings:r,currentIndex:0,attributeDefaults:{}}),o.on("click.multipleInput",".js-input-remove",function(e){e.preventDefault(),a(t(this))}),o.on("click.multipleInput",".js-input-plus",function(e){e.preventDefault(),u(t(this))});var s=setInterval(function(){if("object"==typeof f.data("yiiActiveForm")){var i=f.yiiActiveForm("find",d),n=[];"object"==typeof i&&(t.each(i,function(t,e){-1==["id","input","container"].indexOf(t)&&(n[t]=e)}),f.yiiActiveForm("remove",d));var u=t.extend({},l,r.attributeOptions);t.each(u,function(t,e){"undefined"==typeof n[t]&&(n[t]=e)}),o.data("multipleInput").attributeDefaults=n,o.find(".multiple-input-list").find("input, select, textarea").each(function(){p(t(this))}),o.data("multipleInput").currentIndex=o.find(".multiple-input-list__item").length,clearInterval(s);var a=t.Event(e.afterInit);o.trigger(a)}},100)}},u=function(n){var l=t(n).closest(".multiple-input").first(),r=l.data("multipleInput"),u=r.settings,a=u.template,o=l.find(".multiple-input-list").first(),f=l.find(".multiple-input-list__item").length;if(!(null!=u.limit&&f>=u.limit)){a=a.replaceAll("{multiple_index}",r.currentIndex),t(a).hide().appendTo(o).fadeIn(300),t(a).find("input, select, textarea").each(function(){p(t(this))});var d;for(i in u.jsTemplates)d=u.jsTemplates[i].replaceAll("{multiple_index}",r.currentIndex).replaceAll("%7Bmultiple_index%7D",r.currentIndex),window.eval(d);l.data("multipleInput").currentIndex++;var s=t.Event(e.afterAddRow);l.trigger(s)}},a=function(i){var n=i.closest(".multiple-input").first(),l=i.closest(".multiple-input-list__item"),r=t(".multiple-input-list__item").length,u=n.data("multipleInput"),a=u.settings;if(r>a.min){var p=t.Event(e.beforeDeleteRow);if(n.trigger(p,[l]),p.result===!1)return;l.find("input, select, textarea").each(function(){o(t(this))}),l.fadeOut(300,function(){t(this).remove()}),p=t.Event(e.afterDeleteRow),n.trigger(p)}},p=function(e){var i=f(e);if(null!==i){var n=t("#"+i),l=n.closest(".multiple-input").first(),r=n.closest("form");if(0!=l.length&&"undefined"==typeof r.yiiActiveForm("find",i)){var u=l.data("multipleInput");r.yiiActiveForm("add",t.extend({},u.attributeDefaults,{id:i,input:"#"+i,container:".field-"+i}))}}},o=function(){var e=f(t(this));if(null!==e){var i=t("#"+e).closest("form");0!==i.length&&i.yiiActiveForm("remove",e)}},f=function(t){var e=t.attr("id");return"undefined"==typeof e&&(e=t.data("id")),"undefined"==typeof e?null:e};String.prototype.replaceAll=function(t,e){return this.split(t).join(e)}}(window.jQuery);